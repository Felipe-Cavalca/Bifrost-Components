class customComponents{#tagScript=document.currentScript;#prefix;#pathComponents;constructor(prefix="c-",pathComponents="/components/"){this.#prefix=this.#getData("prefix")??prefix;this.#pathComponents=this.#getData("path")??pathComponents;const elements=this.#getElementsWithPrefix(this.#prefix);this.#loadElements(elements)}#getData(data){return this.#tagScript.getAttribute(data)}#loadElements(elements){elements.forEach(element=>{const htmlUrl=(this.#pathComponents+element+".html").replaceAll(this.#prefix,"");this.#request(htmlUrl).then(htmlComponent=>{this.#defineCustomElement(element,htmlComponent)})})}#getElementsWithPrefix(prefix){const uniqueTags=new Set;const allElements=document.getElementsByTagName("*");for(let i=0;i<allElements.length;i++){const tagName=allElements[i].tagName.toLowerCase();if(tagName.startsWith(prefix)){uniqueTags.add(tagName)}}return Array.from(uniqueTags)}async#request(url){const response=await fetch(url);return response.text()}#defineCustomElement(nameElement,htmlComponent){class CustomElement extends HTMLElement{constructor(){super();this.attachShadow({mode:"open"})}connectedCallback(){this.shadowRoot.innerHTML=htmlComponent;this.#prepareScripts()}#prepareScripts(){const scripts=this.shadowRoot.querySelectorAll("script");if(scripts.length<1)return;scripts.forEach(script=>{const newScript=document.createElement("script");newScript.textContent=script.textContent;if(script.type)newScript.type=script.type;this.shadowRoot.appendChild(newScript)});if(typeof initializeComponentScript==="function"){initializeComponentScript(this)}}}customElements.define(nameElement,CustomElement)}}new customComponents;